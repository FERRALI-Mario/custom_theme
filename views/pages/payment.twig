{% extends "base.twig" %}

{% block content %}
	{# Note : Le centrage vertical est géré par base.twig (flex-grow justify-center) #}
	<section class="w-full px-4 py-12">

		<div
			class="max-w-md w-full mx-auto bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-100">

			{# En-tête de la carte #}
			<div class="p-8 text-center border-b border-gray-50">
				<h1 class="text-2xl font-bold text-gray-900">Régler l'acompte</h1>
				<p class="mt-2 text-gray-500">
					Bonjour
					<span class="font-medium text-gray-900">{{ infos.client }}</span>,
				</p>
			</div>

			<div class="p-8 pt-6">

				<div class="bg-gray-50 rounded-lg p-5 mb-8 text-sm text-gray-600 space-y-3">
					<div class="flex justify-between items-center">
						<span>Arrivée :</span>
						<strong class="text-gray-900">{{ infos.start }}</strong>
					</div>
					<div class="flex justify-between items-center">
						<span>Départ :</span>
						<strong class="text-gray-900">{{ infos.end }}</strong>
					</div>
					<div class="border-t border-gray-200 my-2 pt-2 flex justify-between items-center">
						<span>Total séjour :</span>
						<span>{{ infos.total }}
							€</span>
					</div>
				</div>

				<div class="text-center mb-8">
					<span class="block text-sm font-medium text-gray-500 uppercase tracking-wider mb-1">Montant à régler</span>
					<div class="text-3xl font-extrabold text-gray-900 tracking-tight">
						{{ infos.montant }}
						<span class="text-2xl font-bold text-gray-400">€</span>
					</div>
				</div>

				{% if error %}
					<div class="mb-6 p-4 rounded-md bg-red-50 border border-red-100 text-red-600 text-sm text-center">
						<i class="fa-solid fa-circle-exclamation mr-2"></i>
						{{ error }}
					</div>
				{% endif %}

				<form method="POST">
					<button type="submit" name="pay_stripe" class="w-full flex items-center justify-center gap-3 bg-gray-900 text-white font-bold py-2 px-6 rounded-lg hover:bg-black transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900">
						<span>Payer par Carte Bancaire</span>
						<i class="fa-solid fa-arrow-right text-sm"></i>
					</button>

					<div class="mt-4 text-center">
						<span class="inline-flex items-center text-xs text-gray-400 gap-1">
							<i class="fa-solid fa-lock"></i>
							Paiement sécurisé via Stripe
						</span>
					</div>
				</form>
			</div>
		</div>

		{# Lien d'aide hors de la carte #}
		<p class="mt-8 text-center text-sm text-gray-400">
			Une question sur ce paiement ?<br>
			<a href="mailto:{{ site.admin_email }}" class="underline hover:text-gray-600 transition decoration-gray-300 underline-offset-4">Contactez-nous</a>
		</p>

	</section>
{% endblock %}
