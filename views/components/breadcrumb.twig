{# components/breadcrumb.twig #}
<nav class="text-sm" aria-label="Fil d'Ariane">
	<ol class="flex flex-wrap items-center gap-x-2 gap-y-1">
		{% for item in breadcrumb %}
			<li class="flex items-center">
				{% if not loop.first %}
					<i class="fa-solid fa-chevron-right mx-2 text-gray-400 text-xs" aria-hidden="true"></i>
				{% endif %}

				{% if not loop.last and item.url %}
					<a href="{{ item.url }}" class="text-gray-600 hover:text-primary transition-colors duration-200 hover:underline max-w-[28ch] truncate">
						{{ item.title }}
					</span>
				{% else %}
					<span class="font-medium text-gray-800 max-w-[28ch] truncate" aria-current="page">
						{{ item.title }}
					</a>
				{% endif %}
			</li>
		{% endfor %}
	</ol>
</nav>

<script type="application/ld+json">
	{
						  "@context": "https://schema.org",
						  "@type": "BreadcrumbList",
						  "itemListElement": [
	{%- for item in breadcrumb -%}
		{
														"@type": "ListItem",
														"position":
		{{ loop.index }},
														"name": "{{ item.title|e('js') }}"
		{%- if item.url %},"item": "{{ item.url }}"
		{% endif -%}
		}
		{{- not loop.last ? ',' : '' -}}
	{%- endfor -%}
	]
						}
</script>
