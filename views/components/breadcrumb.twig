{# components/breadcrumb.twig #}
<nav class="text-sm sm:text-base md:text-sm text-gray-600" aria-label="Breadcrumb">
	<ol class="flex flex-wrap items-center gap-x-2 gap-y-1">
		{% for item in breadcrumb %}
			{% set is_last = loop.last or not item.url %}
			<li
				class="flex items-center">
				{# s√©parateur, pas avant le premier #}
				{% if not loop.first %}
					<span class="mx-1 text-gray-400 select-none">/</span>
				{% endif %}

				{% if is_last %}
					<span class="font-medium text-gray-500 max-w-[24ch] md:max-w-[28ch] truncate" aria-current="page">
						{{ item.title }}
					</span>
				{% else %}
					<a href="{{ item.url }}" class="inline-flex items-center font-semibold text-gray-800 hover:text-gray-900
							                    max-w-[24ch] md:max-w-[28ch] truncate">
						{{ item.title }}
					</a>
				{% endif %}
			</li>
		{% endfor %}
	</ol>
</nav>

{# JSON-LD SEO #}
<script type="application/ld+json">
	{
	  "@context": "https://schema.org",
	  "@type": "BreadcrumbList",
	  "itemListElement": [
	{% for item in breadcrumb %}
		{
		        "@type": "ListItem",
		        "position":
		{{ loop.index }},
		        "name": "{{ item.title|e('js') }}"
		{% if item.url %},
			        "item": "{{ item.url }}"
		{% endif %}
		}
		{% if not loop.last %},
		{% endif %}
	{% endfor %}
	]
	}
</script>
