{% set icons = {
	'secure-payment': "<i class='fa-solid fa-lock'></i>",
	'fast-delivery': "<i class='fa-solid fa-truck-fast'></i>",
	'contact': "<i class='fa-solid fa-phone'></i>",
	'click-collect': "<i class='fa-solid fa-shop'></i>",
	'free-shipping': "<i class='fa-solid fa-hand-holding-dollar'></i>",
	'customer-support': "<i class='fa-solid fa-headset'></i>",
	'warranty': "<i class='fa-solid fa-shield-halved'></i>",
	'pets': "<i class='fa-solid fa-paw'></i>",
	'pool': "<i class='fa-solid fa-water-ladder'></i>",
	'stair': "<i class='fa-solid fa-stairs'></i>",
} %}

{% set items = (fields.guarantees ?? [])|slice(0, 4) %}

<section class="guarantee py-16 md:py-24 px-4 bg-gray-50">
	<div class="container mx-auto px-4 md:px-6 max-w-7xl">
		{% if items %}
			<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-12 justify-items-center">
				{% for item in items %}
					<article class="w-full max-w-[320px] bg-white ring-1 ring-black/5 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 border border-gray-100 overflow-hidden p-6 md:p-8 text-center flex flex-col h-full">

						<div class="mx-auto mb-4 h-[50px] w-[50px] flex justify-center items-center">
							{% if item.icon_type == 'custom' and item.custom_icon %}
								<img src="{{ item.custom_icon.url }}" alt="{{ (item.title ?? '')|e }}" class="h-12 w-12 object-contain text-primary" loading="lazy" decoding="async" aria-hidden="true">
							{% else %}
								<span class="text-primary text-4xl md:text-5xl" aria-hidden="true">
									{{ icons[item.icon_type]|default('')|raw }}
								</span>
							{% endif %}
						</div>

						{# Content - Flex to fill space #}
						<div class="flex-1 flex flex-col">
							{% if item.title %}
								<h3 class="text-xl md:text-2xl font-semibold mb-3 text-gray-900">
									{{ item.title }}
								</h3>
							{% endif %}

							{% if item.description %}
								<p class="text-base md:text-lg text-gray-600 leading-relaxed">
									{{ item.description }}
								</p>
							{% endif %}
						</div>
					</article>
				{% endfor %}
			</div>
		{% endif %}
	</div>
</section>
