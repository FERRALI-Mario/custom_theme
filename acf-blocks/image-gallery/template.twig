<section class="py-12 lg:py-16">
	<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">

		{% if fields.title or fields.subtitle %}
			{% include 'components/section-header.twig' with { title: fields.title, text: fields.subtitle } %}
		{% endif %}

		{% if fields.gallery_images %}
			<div class="gallery columns-2 sm:columns-3 lg:columns-4 gap-4 [column-fill:_balance]">
				{% for item in fields.gallery_images %}
					{% set image   = item.image %}
					{% set caption = item.caption ?: (image.caption ?? '') %}
					{% if image %}
						<figure class="gallery-item mb-4 break-inside-avoid overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm group">
							<div class="relative block">
								<img src="{{ image.url }}" alt="{{ image.alt|default('') }}" loading="lazy" decoding="async" style="{% if image.width and image.height %}aspect-ratio: {{ image.width }}/{{ image.height }};{% endif %}" class="w-full h-auto transition-transform duration-300 group-hover:scale-[1.02]">

								<span class="pointer-events-none absolute inset-0 bg-black/0 group-hover:bg-black/20 transition"></span>

								{% if caption %}
									<figcaption class="pointer-events-none absolute inset-x-0 bottom-0 p-3 text-white text-xs sm:text-sm bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition">
										{{ caption }}
									</figcaption>
								{% endif %}
							</div>
						</figure>
					{% endif %}
				{% endfor %}
			</div>
		{% else %}
			<p class="text-center text-gray-400">Aucune image disponible.</p>
		{% endif %}
	</div>
</section>
