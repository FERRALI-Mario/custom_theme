<section class="py-16 md:py-24" aria-labelledby="gallery-title">
	<div class="container mx-auto px-4 md:px-6 max-w-7xl">
		{% if fields.title or fields.subtitle %}
			<header id="gallery-title" class="mb-12 text-center">
				{% include 'components/section-header.twig' with {
                    title: fields.title,
                    text:  fields.subtitle
                } %}
			</header>
		{% endif %}

		{% if fields.gallery_images %}
			<div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6 md:gap-12">
				{% for item in fields.gallery_images %}
					{% set image = item.image %}
					{% if image %}
						{% set caption = item.caption ?: (image.caption ?? '') %}
						<article class="group">
							<figure class="bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 border border-gray-100 overflow-hidden">
								<div class="relative">
									{{ function(
                                        'wp_get_attachment_image',
                                        image.ID,
                                        'large',
                                        false,
                                        {
                                            class: 'w-full h-auto object-cover transition-transform duration-300 group-hover:scale-[1.02]',
                                            alt:   image.alt|default('')
                                        }
                                    ) }}
									{% if caption %}
										<figcaption class="pointer-events-none absolute inset-x-0 bottom-0 p-3 text-white text-xs sm:text-sm bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition">
											{{ caption }}
										</figcaption>
									{% endif %}
								</div>
							</figure>
						</article>
					{% endif %}
				{% endfor %}
			</div>
		{% else %}
			<p class="text-center text-gray-400">Aucune image disponible.</p>
		{% endif %}
	</div>
</section>
