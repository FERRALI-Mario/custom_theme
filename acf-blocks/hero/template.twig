{# components/hero.twig #}
{% set bg      = fields.background %}
{% set bgUrl   = bg.url ?? bg %}
{% set image   = fields.image %}
{% set imgUrl  = image.url ?? image %}
{% set imgAlt  = (image.alt ?? fields.title ?? 'Hero image')|trim %}
{% set imgId   = image.id ?? image.ID ?? null %}
{% set srcset  = imgId ? function('wp_get_attachment_image_srcset', imgId, 'full') : null %}
{% set sizes   = '(min-width: 1024px) 40vw, 100vw' %}
{% set fetchprio = fields.is_lcp ? 'high' : 'auto' %}

<section class="relative min-h-screen text-white overflow-hidden" {% if bgUrl %} style="background-image: url('{{ bgUrl }}'); background-size: cover; background-position: center;" {% endif %}>
	<div class="absolute inset-0 bg-black/40 md:bg-gradient-to-r md:from-black/50 md:via-black/45 md:to-transparent z-1"></div>

	<div class="relative z-2 container mx-auto px-4 md:px-6 max-w-7xl min-h-screen flex items-center">
		<div
			class="w-full grid md:grid-cols-2 gap-6 md:gap-12 items-center">

			<!-- Text Content -->
			<div>
				{% if fields.title %}
					<h1 class="text-4xl md:text-6xl font-extrabold tracking-tight leading-tight mb-6 text-white">
						{{ fields.title }}
					</h1>
				{% endif %}

				{% if fields.subtitle %}
					<p class="text-base md:text-lg text-gray-100/95 leading-relaxed mb-8 max-w-2xl">
						{{ fields.subtitle }}
					</p>
				{% endif %}

				{% if fields.cta_text and fields.cta_url %}
					{% include 'components/button.twig' with {
						button_text: fields.cta_text,
						button_url: fields.cta_url,
						open_in_new_tab: fields.open_in_new_tab,
						variant: 'solid-light'
					} %}
				{% endif %}
			</div>

			<!-- Image (Hidden on mobile) -->
			<div class="hidden md:block">
				{% if imgUrl %}
					<figure>
						<div class="relative w-full rounded-xl overflow-hidden shadow-2xl ring-1 ring-white/15">
							<img src="{{ imgUrl }}" {% if srcset %} srcset="{{ srcset }}" {% endif %} sizes="{{ sizes }}" alt="{{ imgAlt|e }}" class="w-full h-auto object-cover aspect-video" loading="lazy" decoding="async" fetchpriority="{{ fetchprio }}">
						</div>
					</figure>
				{% endif %}
			</div>

		</div>
	</div>
</section>
