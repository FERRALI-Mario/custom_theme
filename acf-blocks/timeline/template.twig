<section class="timeline-block py-16 md:py-24">
	<div class="container mx-auto px-4 md:px-6 max-w-7xl">
		{% if fields.title or fields.subtitle %}
			{% include 'components/section-header.twig' with { title: fields.title, text: fields.subtitle } %}
		{% endif %}

		<div class="relative mx-auto max-w-5xl">
			<div class="absolute inset-y-0 left-1/2 -translate-x-1/2 w-px sm:w-[2px] bg-gray-200/90 z-0 overflow-hidden">
				<div class="timeline-progress absolute top-0 left-0 w-full h-full bg-gray-900 origin-top scale-y-0 transition-transform duration-500 ease-out"></div>
			</div>

			<ol class="relative z-10 space-y-12 sm:space-y-16 md:space-y-24">
				{% for event in fields.events %}
					{% set reverse = loop.index is odd ? 'md:flex-row-reverse' : '' %}

					<li class="timeline-item relative flex flex-col md:flex-row md:items-center {{ reverse }}">
						<span class="timeline-dot hidden md:block absolute left-1/2 -translate-x-1/2 w-3 h-3 rounded-full bg-gray-300 ring-4 ring-white transition-colors duration-500"></span>
						<span class="hidden md:block absolute top-1/2 -translate-y-1/2 h-px w-8 bg-gray-900 {{ loop.index is odd ? 'left-1/2' : 'right-1/2' }}"></span>
						<article class="timeline-card w-full max-w-[620px] md:w-[44%] lg:w-[40%] md:mx-8 mx-auto bg-white rounded-xl border border-gray-100 shadow-sm px-5 sm:px-6 py-5 sm:py-6 opacity-0 translate-y-3 transition-all duration-700">
							<p class="text-base font-semibold text-gray-500 mb-1">
								{{ event.year }}
							</p>
							<h3 class="text-xl md:text-2xl font-semibold text-gray-900 mb-2">
								{{ event.event_title }}
							</h3>
							{% if event.event_description %}
								<p class="text-base md:text-lg text-gray-600 leading-relaxed">
									{{ event.event_description }}
								</p>
							{% endif %}
						</article>
					</li>
				{% endfor %}
			</ol>
		</div>
	</div>
</section>
